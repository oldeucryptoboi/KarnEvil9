id: swarm
name: Swarm Mesh
version: "3.0.0"
description: P2P mesh for distributing tasks across KarnEvil9 instances with intelligent delegation (Phase 5)
entry: index.js
permissions:
  - swarm:delegate:tasks
  - swarm:read:peers
  - swarm:read:reputation
config_schema:
  type: object
  properties:
    meshManager:
      description: MeshManager instance (injected at runtime)
    workDistributor:
      description: WorkDistributor instance (injected at runtime)
    sessionFactory:
      description: Session factory function (injected at runtime)
    journal:
      description: Journal instance for event subscription (injected at runtime)
provides:
  tools:
    - swarm-distribute
    - swarm-peers
    - swarm-reputation
    - swarm-decompose
    - swarm-auction
  hooks:
    - after_session_end
    - before_plan
  routes:
    - identity
    - peers
    - heartbeat
    - join
    - leave
    - gossip
    - task
    - task/:taskId/status
    - task/:taskId/cancel
    - task/:taskId/checkpoints
    - result
    - status
    - reputation
    - contracts
    - contracts/:contractId/renegotiate
    - contracts/:contractId/renegotiations
    - contracts/:contractId/renegotiations/:requestId/accept
    - contracts/:contractId/renegotiations/:requestId/reject
    - events
    - anomalies
    - quarantine
    - quarantine/:nodeId
    - credentials
    - credentials/:nodeId
    - tokens
    - tokens/:dctId/revoke
    - sybil-reports
    - pow-verify
    - rfq
    - bid
    - auctions
    - escrow
    - escrow/:nodeId
    - escrow/deposit
    - consensus
    - renegotiations
    - checkpoints
    - trigger
    - verify/:taskId/consensus
    - verify/:taskId/vote
  services:
    - swarm-mesh
